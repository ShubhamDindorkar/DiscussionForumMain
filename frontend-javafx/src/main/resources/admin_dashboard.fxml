<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<BorderPane fx:id="rootPane" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.forum.dashboard.MainController">
    <left>
        <VBox spacing="16" styleClass="side-nav" alignment="TOP_CENTER" BorderPane.alignment="CENTER">
            <children>
                <Label text="Admin Panel" styleClass="nav-brand" />
                <Button fx:id="navOverview" text="📊 Dashboard" styleClass="nav-button" />
                <Button fx:id="navUsers" text="👥 User Management" styleClass="nav-button" />
                <Button fx:id="navPosts" text="📝 Content Moderation" styleClass="nav-button" />
                <Button fx:id="navReports" text="⚠️ Reports Queue" styleClass="nav-button" />
                <Button fx:id="navAnalytics" text="📈 Analytics" styleClass="nav-button" />
                <Region VBox.vgrow="ALWAYS" />
                <Button text="Sign Out" styleClass="nav-button small" />
            </children>
        </VBox>
    </left>
    <center>
        <VBox spacing="12">
            <padding>
                <Insets top="16" right="16" bottom="16" left="16" />
            </padding>
            <children>
                <HBox alignment="CENTER_LEFT" spacing="12" styleClass="top-bar">
                    <Label fx:id="titleLabel" text="Overview" styleClass="page-title" />
                    <Region HBox.hgrow="ALWAYS" />
                    <HBox spacing="8" alignment="CENTER_RIGHT">
                        <TextField fx:id="searchField" promptText="Search posts, users, reports" prefWidth="300" />
                        <Button fx:id="settingsButton" text="⚙" styleClass="icon-button" />
                        <Button fx:id="profileButton" text="👤" styleClass="profile-button" />
                    </HBox>
                </HBox>

                <StackPane fx:id="contentArea" styleClass="content-area">
                    <children>
                        <!-- Overview pane -->
                        <VBox fx:id="overviewPane" spacing="16">
                            <children>
                                <!-- Stats cards -->
                                <HBox spacing="12">
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS"><children><Label text="Total Users" styleClass="stat-label"/><Label text="1,245" styleClass="stat-value"/></children></VBox>
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS"><children><Label text="Active Posts" styleClass="stat-label"/><Label text="3,890" styleClass="stat-value"/></children></VBox>
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS"><children><Label text="Pending Reports" styleClass="stat-label"/><Label text="12" styleClass="stat-value"/></children></VBox>
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS"><children><Label text="New Messages" styleClass="stat-label"/><Label text="47" styleClass="stat-value"/></children></VBox>
                                </HBox>
                                
                                <!-- Two column layout -->
                                <HBox spacing="16">
                                    <!-- Left column -->
                                    <VBox spacing="16" HBox.hgrow="ALWAYS">
                                        <!-- Projects -->
                                        <VBox spacing="8" styleClass="panel-card">
                                            <Label text="Project Progress" styleClass="panel-title" />
                                            <VBox fx:id="projectsBox" spacing="6">
                                                <!-- Populated dynamically -->
                                            </VBox>
                                        </VBox>
                                        
                                        <!-- Assigned Tasks -->
                                        <VBox spacing="8" styleClass="panel-card">
                                            <Label text="Assigned Tasks" styleClass="panel-title" />
                                            <ListView fx:id="tasksListView" styleClass="compact-list" prefHeight="150" />
                                        </VBox>
                                    </VBox>
                                    
                                    <!-- Right column -->
                                    <VBox spacing="16" HBox.hgrow="ALWAYS">
                                        <!-- Calendar -->
                                        <VBox spacing="8" styleClass="panel-card">
                                            <Label text="Calendar" styleClass="panel-title" />
                                            <VBox fx:id="calendarBox" alignment="CENTER">
                                                <Label text="October 2025" styleClass="calendar-header" />
                                                <!-- Simple calendar placeholder -->
                                            </VBox>
                                        </VBox>
                                        
                                        <!-- Notifications -->
                                        <VBox spacing="8" styleClass="panel-card">
                                            <Label text="Recent Notifications" styleClass="panel-title" />
                                            <ListView fx:id="notificationsListView" styleClass="compact-list" prefHeight="150" />
                                        </VBox>
                                    </VBox>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- Posts pane -->
                        <VBox fx:id="postsPane" spacing="12" visible="false" managed="false">
                            <children>
                                <HBox spacing="10" alignment="CENTER_LEFT">
                                    <Button fx:id="createPostButton" text="+ New Post" styleClass="primary-button" />
                                    <Button fx:id="refreshPosts" text="⟳ Refresh" styleClass="secondary-button" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <TextField fx:id="postSearchField" promptText="Search posts..." prefWidth="200" />
                                </HBox>
                                <TableView fx:id="postsTableView" styleClass="data-table" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="postIdCol" text="ID" prefWidth="60" />
                                        <TableColumn fx:id="postTitleCol" text="Title" prefWidth="300" />
                                        <TableColumn fx:id="postAuthorCol" text="Author" prefWidth="120" />
                                        <TableColumn fx:id="postDateCol" text="Date" prefWidth="150" />
                                        <TableColumn fx:id="postStatusCol" text="Status" prefWidth="100" />
                                        <TableColumn fx:id="postActionsCol" text="Actions" prefWidth="180" />
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>

                        <!-- Users pane -->
                        <VBox fx:id="usersPane" spacing="12" visible="false" managed="false">
                            <children>
                                <HBox spacing="10" alignment="CENTER_LEFT">
                                    <Button fx:id="addUserButton" text="+ Add User" styleClass="primary-button" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <TextField fx:id="userSearchField" promptText="Search users..." prefWidth="200" />
                                </HBox>
                                <TableView fx:id="usersTableView" styleClass="data-table" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="userIdCol" text="ID" prefWidth="60" />
                                        <TableColumn fx:id="usernameCol" text="Username" prefWidth="150" />
                                        <TableColumn fx:id="emailCol" text="Email" prefWidth="200" />
                                        <TableColumn fx:id="roleCol" text="Role" prefWidth="120" />
                                        <TableColumn fx:id="statusCol" text="Status" prefWidth="100" />
                                        <TableColumn fx:id="userActionsCol" text="Actions" prefWidth="180" />
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>

                        <!-- Messages pane -->
                        <VBox fx:id="messagesPane" spacing="12" visible="false" managed="false">
                            <children>
                                <HBox spacing="12" VBox.vgrow="ALWAYS">
                                    <!-- Chat list sidebar -->
                                    <VBox spacing="8" styleClass="chat-sidebar" prefWidth="250">
                                        <TextField fx:id="chatSearchField" promptText="Search conversations..." />
                                        <ListView fx:id="conversationsListView" styleClass="chat-list" VBox.vgrow="ALWAYS" />
                                    </VBox>
                                    
                                    <!-- Chat messages area -->
                                    <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="chat-container">
                                        <HBox alignment="CENTER_LEFT" spacing="10" styleClass="chat-header">
                                            <Label fx:id="chatTitleLabel" text="Select a conversation" styleClass="chat-title" />
                                        </HBox>
                                        <ListView fx:id="messagesListView" styleClass="messages-list" VBox.vgrow="ALWAYS" />
                                        <HBox spacing="8" alignment="CENTER_LEFT" styleClass="message-input-box">
                                            <TextField fx:id="messageInputField" promptText="Type a message..." HBox.hgrow="ALWAYS" />
                                            <Button fx:id="sendMessageButton" text="Send" styleClass="primary-button" />
                                        </HBox>
                                    </VBox>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- Reports pane -->
                        <VBox fx:id="reportsPane" spacing="12" visible="false" managed="false">
                            <children>
                                <HBox spacing="10" alignment="CENTER_LEFT">
                                    <Label text="Pending: " />
                                    <Label fx:id="pendingCountLabel" text="12" styleClass="badge-warning" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <TextField fx:id="reportSearchField" promptText="Search reports..." prefWidth="200" />
                                </HBox>
                                <TableView fx:id="reportsTableView" styleClass="data-table" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="reportIdCol" text="ID" prefWidth="60" />
                                        <TableColumn fx:id="reportTypeCol" text="Type" prefWidth="100" />
                                        <TableColumn fx:id="reportTargetCol" text="Target" prefWidth="200" />
                                        <TableColumn fx:id="reportReasonCol" text="Reason" prefWidth="200" />
                                        <TableColumn fx:id="reportDateCol" text="Date" prefWidth="130" />
                                        <TableColumn fx:id="reportActionsCol" text="Actions" prefWidth="180" />
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>
                    </children>
                </StackPane>
            </children>
        </VBox>
</center>
</BorderPane>